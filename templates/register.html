
{% extends 'base.html' %}
{% block title %}Create account — PulseIQ{% endblock %}

{% block navbar %}{% endblock %}

{% block content %}
<div style="display: grid; grid-template-columns: 1fr 1fr; min-height: 100vh;">

  <!-- Left panel -->
  <div style="background: var(--surface); border-right: 1px solid var(--border); display: flex; flex-direction: column; justify-content: space-between; padding: 40px 48px;">
    <div class="navbar-logo">PulseIQ <span></span></div>
    <div>
      <h2 style="font-size: 28px; font-weight: 600; letter-spacing: -0.03em; line-height: 1.3; margin-bottom: 16px;">
        Monitor smarter.<br>Act faster.
      </h2>
      <p style="font-size: 14px; color: var(--muted); line-height: 1.8;">
        Join PulseIQ and get full visibility into your campus electrical infrastructure — powered by AI trained on real Indian campus data.
      </p>
    </div>
    <span style="font-size: 12px; color: var(--muted);">© 2026 PulseIQ</span>
  </div>

  <!-- Right panel — form -->
  <div style="display: flex; align-items: center; justify-content: center; padding: 40px;">
    <div style="width: 100%; max-width: 360px;">

      <h2 style="font-size: 22px; font-weight: 600; letter-spacing: -0.02em; margin-bottom: 6px;">Create account</h2>
      <p style="font-size: 14px; color: var(--muted); margin-bottom: 32px;">Get started with PulseIQ</p>

      {% if form.errors %}
      <div class="alert-banner" style="margin-bottom: 20px;">
        <span class="dot dot-failure"></span>
        Please fix the errors below.
      </div>
      {% endif %}

      <form method="POST" style="display: flex; flex-direction: column; gap: 16px;">
        {% csrf_token %}

        <div>
          <label style="display: block; font-size: 12px; font-weight: 500; letter-spacing: 0.05em; text-transform: uppercase; color: var(--muted); margin-bottom: 7px;">Username</label>
          {{ form.username }}
          {% if form.username.errors %}
            <p style="font-size: 12px; color: var(--failure); margin-top: 5px;">{{ form.username.errors|join:", " }}</p>
          {% endif %}
        </div>

        <div>
          <label style="display: block; font-size: 12px; font-weight: 500; letter-spacing: 0.05em; text-transform: uppercase; color: var(--muted); margin-bottom: 7px;">Password</label>
          {{ form.password1 }}
          {% if form.password1.errors %}
            <p style="font-size: 12px; color: var(--failure); margin-top: 5px;">{{ form.password1.errors|join:", " }}</p>
          {% endif %}
        </div>

        <div>
          <label style="display: block; font-size: 12px; font-weight: 500; letter-spacing: 0.05em; text-transform: uppercase; color: var(--muted); margin-bottom: 7px;">Confirm password</label>
          {{ form.password2 }}
          {% if form.password2.errors %}
            <p style="font-size: 12px; color: var(--failure); margin-top: 5px;">{{ form.password2.errors|join:", " }}</p>
          {% endif %}
        </div>

        <button type="submit" class="btn btn-primary" style="width: 100%; justify-content: center; padding: 11px; font-size: 14px; margin-top: 4px;">
          Create account
        </button>
      </form>

      <p style="text-align: center; font-size: 13px; color: var(--muted); margin-top: 24px;">
        Already have an account?
        <a href="{% url 'login' %}" style="color: var(--accent); text-decoration: none; font-weight: 500;">Sign in</a>
      </p>

    </div>
  </div>
</div>

<script>
  document.querySelectorAll('input').forEach(el => el.classList.add('input'));
</script>
{% endblock %}