{% extends 'base.html' %}
{% block title %}Sign in — PulseIQ{% endblock %}

{% block navbar %}{% endblock %}

{% block content %}
<div style="display: grid; grid-template-columns: 1fr 1fr; min-height: 100vh;">

  <!-- Left panel -->
  <div style="background: var(--surface); border-right: 1px solid var(--border); display: flex; flex-direction: column; justify-content: space-between; padding: 40px 48px;">
    <div class="navbar-logo" style="font-size: 24px; font-weight: 700;">PulseIQ <span></span></div>

    <div>
      <h2 style="font-size: 28px; font-weight: 700; letter-spacing: -0.03em; line-height: 1.3; margin-bottom: 12px;">
        Monitor smarter.<br>Act before failure.
      </h2>
      <p style="font-size: 14px; color: var(--muted); line-height: 1.8; margin-bottom: 36px;">
        AI-powered infrastructure monitoring built for Indian campuses. Detect anomalies, predict cascades, and protect assets.
      </p>

      <p class="kpi-label" style="margin-bottom: 16px;">What you get</p>
      <div style="display: flex; flex-direction: column; gap: 0; border: 1px solid var(--border); border-radius: 10px; overflow: hidden;">
        <div style="display: flex; gap: 14px; align-items: flex-start; padding: 16px 18px; border-bottom: 1px solid var(--border);">
          <span class="dot dot-normal" style="margin-top: 4px; flex-shrink: 0;"></span>
          <div>
            <div style="font-size: 13px; font-weight: 600; margin-bottom: 3px;">Real-time anomaly detection</div>
            <div style="font-size: 12px; color: var(--muted);">Instant alerts on electrical anomalies across all campus assets</div>
          </div>
        </div>
        <div style="display: flex; gap: 14px; align-items: flex-start; padding: 16px 18px; border-bottom: 1px solid var(--border);">
          <span class="dot dot-anomaly" style="margin-top: 4px; flex-shrink: 0;"></span>
          <div>
            <div style="font-size: 13px; font-weight: 600; margin-bottom: 3px;">Cascade failure prediction</div>
            <div style="font-size: 12px; color: var(--muted);">Know which assets will be affected hours before failure</div>
          </div>
        </div>
        <div style="display: flex; gap: 14px; align-items: flex-start; padding: 16px 18px;">
          <span class="dot dot-accent" style="margin-top: 4px; flex-shrink: 0;"></span>
          <div>
            <div style="font-size: 13px; font-weight: 600; margin-bottom: 3px;">India-specific AI models</div>
            <div style="font-size: 12px; color: var(--muted);">Trained on exam season, monsoon, and grid shedding patterns</div>
          </div>
        </div>
      </div>
    </div>

    <span style="font-size: 12px; color: var(--muted);">© 2026 PulseIQ</span>
  </div>

  <!-- Right panel — form -->
  <div style="display: flex; align-items: center; justify-content: center; padding: 40px;">
    <div style="width: 100%; max-width: 360px;">

      <h2 style="font-size: 22px; font-weight: 600; letter-spacing: -0.02em; margin-bottom: 6px;">Welcome back</h2>
      <p style="font-size: 14px; color: var(--muted); margin-bottom: 32px;">Sign in to your PulseIQ account</p>

      {% if error %}
      <div class="alert-banner" style="margin-bottom: 20px;">
        <span class="dot dot-failure"></span>
        {{ error }}
      </div>
      {% endif %}

      <form method="POST" style="display: flex; flex-direction: column; gap: 16px;">
        {% csrf_token %}

        <div>
          <label style="display: block; font-size: 12px; font-weight: 500; letter-spacing: 0.05em; text-transform: uppercase; color: var(--muted); margin-bottom: 7px;">Username</label>
          {{ form.username }}
        </div>

        <div>
          <label style="display: block; font-size: 12px; font-weight: 500; letter-spacing: 0.05em; text-transform: uppercase; color: var(--muted); margin-bottom: 7px;">Password</label>
          {{ form.password }}
        </div>

        <button type="submit" class="btn btn-primary" style="width: 100%; justify-content: center; padding: 11px; font-size: 14px; margin-top: 4px;">
          Sign in
        </button>
      </form>

      <p style="text-align: center; font-size: 13px; color: var(--muted); margin-top: 24px;">
        No account?
        <a href="{% url 'register' %}" style="color: var(--accent); text-decoration: none; font-weight: 500;">Create one</a>
      </p>

    </div>
  </div>
</div>

<script>
  // Apply input styling to Django form fields
  document.querySelectorAll('input').forEach(el => el.classList.add('input'));
</script>
{% endblock %}